<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Descubra Moçambique - Turismo</title>

    
    <!-- PWA Manifest -->
    <link rel="manifest" href="manifest.json">

    <!-- Ícone da barra de tarefas / homescreen -->
    <link rel="icon" href="icon.png" type="image/png">

    <meta name="theme-color" content="#667eea">

    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <header class="header">
            <h1>🏝️ Descubra Moçambique</h1>
            <p>Explore os destinos mais incríveis do nosso país</p>
            
            <div class="search-bar">
                <input type="text" placeholder="Pesquise por destinos, ilhas, cidades..." id="searchInput">
                <button onclick="searchDestinations()">🔍 Pesquisar</button>
            </div>
        </header>

        <main class="destinations-grid" id="destinationsGrid">
            <!-- Destinos serão inseridos dinamicamente -->
        </main>
    </div>

    <!-- Modal para direções -->
    <div id="directionsModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <span class="close" onclick="closeModal()">&times;</span>
                <h2 id="modalTitle">Como chegar ao destino</h2>
            </div>
            <div class="modal-body">
                <h3>🚗 Escolha seu meio de transporte:</h3>
                <div class="transport-options">
                    <div class="transport-card" data-transport="moto" onclick="selectTransport('moto')">
                        <div class="transport-icon">🏍️</div>
                        <h4>Moto</h4>
                        <p>Rápido e econômico</p>
                        <small>Ideal para curtas distâncias</small>
                    </div>
                    <div class="transport-card" data-transport="taxi" onclick="selectTransport('taxi')">
                        <div class="transport-icon">🚕</div>
                        <h4>Taxi</h4>
                        <p>Confortável e seguro</p>
                        <small>Disponível 24h</small>
                    </div>
                    <div class="transport-card" data-transport="carro" onclick="selectTransport('carro')">
                        <div class="transport-icon">🚗</div>
                        <h4>Carro Próprio</h4>
                        <p>Liberdade total</p>
                        <small>Explore no seu ritmo</small>
                    </div>
                </div>

                <div id="transportDetails" class="transport-details">
                    <h4 id="transportTitle"></h4>
                    <div class="route-info">
                        <strong>📍 Rota sugerida:</strong>
                        <p id="routeDescription"></p>
                    </div>
                    <div class="route-info">
                        <strong>⏱️ Tempo estimado:</strong>
                        <p id="timeEstimate"></p>
                    </div>
                    <div class="route-info">
                        <strong>💰 Custo aproximado:</strong>
                        <p id="costEstimate"></p>
                    </div>
                    <div class="route-info">
                        <strong>ℹ️ Dicas importantes:</strong>
                        <p id="tips"></p>
                    </div>
                    <button class="btn btn-primary" onclick="openGoogleMaps()" style="margin-top: 20px;">
                        🗺️ Abrir no Google Maps
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script src="script.js">
        
        let currentDestination = null;
        let selectedTransport = null;

        function renderDestinations(destinationsToShow = destinations) { /* ... */ }
        function searchDestinations() { /* ... */ }
        function showDirections(destinationId) { /* ... */ }
        function selectTransport(transport) { /* ... */ }
        function getTransportName(transport) { /* ... */ }
        function openGoogleMaps() { /* ... */ }
        function closeModal() { document.getElementById('directionsModal').style.display='none'; }
        document.getElementById('searchInput').addEventListener('keypress', function(e){ if(e.key==='Enter'){ searchDestinations(); } });
        window.onclick = function(event){ if(event.target===document.getElementById('directionsModal')) closeModal(); }
        renderDestinations();

        /* -------------------- REGISTRO DO SERVICE WORKER -------------------- */
        if('serviceWorker' in navigator){
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('service-worker.js')
                .then(reg => console.log('Service Worker registrado com sucesso:', reg))
                .catch(err => console.error('Falha ao registrar Service Worker:', err));
            });
        }
    </script>
</body>
</html>